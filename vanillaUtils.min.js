!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.vanillaUtils=t()}("undefined"!=typeof self?self:this,function(){"use strict";function e(e,t={}){const n=document.createElement(e);for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.setAttribute(e,t[e]);return n}function t(e){const t={"89504E47":"image/png",47494638:"image/gif",FFD8FF:"image/jpeg",25504446:"application/pdf","504B0304":"application/zip","504B34":"application/vnd.openxmlformats-officedocument","49492A00":"image/tiff","4D4D002A":"image/tiff","377ABCAF271C":"application/7z","1F8B08":"application/gzip","424D":"image/bmp"},n=(r=e,Array.from(r).map(e=>e.toString(16).padStart(2,"0").toUpperCase()).join(""));var r;for(const[e,r]of Object.entries(t))if(n.startsWith(e))return r;return"application/octet-stream"}function n(e){return e.reduce((e,t)=>e+t,0)}function r(e){return Math.max(...e)}function o(e){return Math.min(...e)}function i(e,t){const n={};return e.forEach(e=>{const r=t(e),o=n[r];o?o.push(e):n[r]=[e]}),n}return Array.prototype.sum||(Array.prototype.sum=function(){return n(this)}),Array.prototype.max||(Array.prototype.max=function(){return r(this)}),Array.prototype.min||(Array.prototype.min=function(){return o(this)}),Array.prototype.groupBy||(Array.prototype.groupBy=function(e){return i(this,e)}),{createElement:e,openLink:function(t,n=!1){const r=e("a",{href:t,target:n?"_blank":"_self"});r.click(),r.remove()},downloadLink:function(t){const n=e("a",{href:t,download:t.split("/").pop()});n.click(),n.remove()},guessMimeType:t,downloadFileFromBytes:function(n,r,o){const i=new Blob([n],{type:o??t(n)}),c=window.URL.createObjectURL(i),u=e("a",{href:c,download:r});u.click(),u.remove(),window.URL.revokeObjectURL(c)},fetchRequest:function(e,t={}){if(null==e)return Promise.reject("Improper request. Needs a url.");const n={...t};return n.method=n.method??"GET",fetch(e,n).then(e=>{if(!e.ok)throw e;return e.json()})},setCookie:function(e,t,n={}){let r=`${e}=${t}`;if(null!=n.expires){const e=new Date;e.setTime(e.getTime()+24*n.expires*60*60*1e3),r+=`;expires=${e.toGMTString()}`}null!=n.path&&(r+=`;path=${n.path}`),null!=n.samesite&&(r+=`;samesite=${n.samesite}`),0!=n.secure&&(r+=";secure"),document.cookie=r},getCookie:function(e){const t=decodeURIComponent(document.cookie).split(";").map(e=>e.trim()).find(t=>0==t.indexOf(e+"="));return t?t.slice(e.length+1):""},removeCookie:function(e){document.cookie=`${e}=;expires=${(new Date).toGMTString()};path=/`},toPromise:function(e,t){return new Promise((n,r)=>{n(e(...t))})},debounce:function(e,t){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}},capitalize:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},truncate:function(e,t){return!e||e.length<=t?e:e.slice(0,t)+"..."},slugify:function(e){return e?e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-"):""},clamp:function(e,t,n){return Math.min(Math.max(e,t),n)},formatCurrency:function(e,t="USD",n="en-US"){return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)},isValidEmail:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e).toLowerCase())},isValidUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},sum:n,max:r,min:o,groupBy:i}});